<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.trip.map.model.repo.MapRepo">

<!--     <resultMap id="catResult" type="Cat">
      <id property="code" column="code" />
      <result property="nickname" column="nickname"/>
      <result property="price" column="price"/>
      <result property="id" column="id"/>
      <association property="user" javaType="User">
        <id property="id" column="id"/>
        <result property="pw" column="pw"/>
        <result property="name" column="name"/>
      </association>
    </resultMap>
 -->
 
 
     <select id="selectSido" resultType="sido">
        select * from sido
    </select>
    
     <select id="selectGugun" resultType="gugun">
        select * from gugun 
        <if test="#{sido_code} != null">
        	where sido_code=#{sido_code}
        </if>
    </select>
    
 
      <select id="selectTripInfo" resultType="TripInfo">
		select * from attraction_info 
		where sidoCode=#{sidoCode} 
		and gugunCode=#{gugunCode} 
		and content_type_id=#{content_type_id}
    </select>
    
    <select id="searchSpot" resultType="TripInfo">
		select content_id, title, addr1, content_type_id, first_image, latitude, longitude
		from place
		where title like concat('%', #{keyword}, '%')
    </select>
    <select id="readSpot" resultType="TripInfo">
		select content_id, title, addr1, content_type_id, first_image, latitude, longitude
		from place
		where content_id=#{planId}
    </select>
</mapper>